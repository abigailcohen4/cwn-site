import{e as c,aO as d,g5 as u,g6 as f,al as m}from"./index-BHbsz6E7.js";import{r as g}from"./serverVersionUtils-sDZkRUpc.js";const s=new Map;async function l(e,o,a){s.has(e)||await g(s,e);const r=s.get(e);if(((r==null?void 0:r.serverVersion)??0)<=11.1)throw new c("deleteVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");const t=d(e),i=o.toJSON(),n=u(t.query,{query:f({...i,f:"json"}),...a,authMode:"immediate",method:"post"}),h=`${t.path}/delete`,{data:p}=await m(h,n);return p.success}export{l as deleteVersion,s as serverVersionCacheMap};
