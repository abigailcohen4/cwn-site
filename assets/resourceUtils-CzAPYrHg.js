import{bm as d,w as L}from"./index-BHbsz6E7.js";class g{constructor(n){this.data=n,this.type="encoded-mesh-texture",this.encoding=d.KTX2_ENCODING}}function w(e){return(e==null?void 0:e.type)==="encoded-mesh-texture"}async function h(e){const n=new Blob([e]),o=await n.text();return JSON.parse(o)}async function l(e,n){if(n===d.KTX2_ENCODING)return new g(e);const o=new Blob([e],{type:n});let r=URL.createObjectURL(o);switch(n){case"image/jpeg":r+="#.jpg";break;case"image/png":r+="#.png"}const t=new Image;if(L("esri-iPhone"))return new Promise((s,m)=>{const c=()=>{i(),s(t)},a=u=>{i(),m(u)},i=()=>{URL.revokeObjectURL(r),t.removeEventListener("load",c),t.removeEventListener("error",a)};t.addEventListener("load",c),t.addEventListener("error",a),t.src=r});try{t.src=r,await t.decode()}catch{console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(r),t}export{w as n,l as o,h as r,g as t};
