import{aj as A,p9 as C,kM as I,kN as O,kO as B,eQ as F,bQ as Q,kB as U,pa as q,az as z,c7 as f,jO as l,pb as D,c6 as R,dd as y,cb as L,pc as N,pd as T,pe as j,pf as E,pg as G,ph as J,pi as K,dx as P,pj as W,pk as X,pl as Y,pm as _,pn as nn,po as en,pp as tn,pq as rn}from"./index-CndJoalP.js";function xn(n){var u,c;const e="metric";if(n==null)return e;const t=n.map,r=(t&&"portalItem"in t?(u=t.portalItem)==null?void 0:u.portal:null)??A.getDefault();switch(((c=r.user)==null?void 0:c.units)??r.units){case e:return e;case"english":return"imperial"}return C(n.spatialReference)??e}function k(n){return B(n)?F(n)||Q(n)||U(n)||q(n)?I:n:O(n)}var s;function Rn(n){return un(n,s.Horizontal)}function un(n,e){const{hasZ:t,spatialReference:r}=n,u=k(r);let c=0;const o=D(u);if(o==null)return null;const p=e===s.Direct?H:V;for(const b of n.paths){if(b.length<2)continue;const S=b.length-1;for(let $=0;$<S;++$){const m=b[$];a[0]=m[0],a[1]=m[1],a[2]=t?m[2]:0;const x=b[$+1];i[0]=x[0],i[1]=x[1],i[2]=t?x[2]:0;const w=p(a,i,r);if(w==null)return null;c+=w.value}}return l(c,o)}function yn(n,e){const{spatialReference:t}=n;return z(t,e.spatialReference)?(a[0]=n.x,a[1]=n.y,a[2]=n.hasZ?n.z:0,i[0]=e.x,i[1]=e.y,i[2]=e.hasZ?e.z:0,cn(a,i,t)):null}function Zn(n,e){const{spatialReference:t}=n;return z(t,e.spatialReference)?(a[0]=n.x,a[1]=n.y,a[2]=n.hasZ?n.z:0,i[0]=e.x,i[1]=e.y,i[2]=e.hasZ?e.z:0,H(a,i,t)):null}function gn(n,e){const{spatialReference:t}=n;return z(t,e.spatialReference)?(a[0]=n.x,a[1]=n.y,a[2]=n.hasZ?n.z:0,i[0]=e.x,i[1]=e.y,i[2]=e.hasZ?e.z:0,V(a,i,t)):null}function wn(n,e){const{spatialReference:t}=n;return z(t,e.spatialReference)?(a[0]=n.x,a[1]=n.y,a[2]=n.hasZ?n.z:0,i[0]=e.x,i[1]=e.y,i[2]=e.hasZ?e.z:0,sn(a,i,t)):null}function Dn(n){return n!=null?an(n.hasZ?n.z:0,n.spatialReference):null}function an(n,e){const t=N(e);return t!=null?l(n??0,t):null}function cn(n,e,t){const r=d(n,e,t);return r!=null?{direct:l(r.direct,r.unit),horizontal:l(r.horizontal,r.unit),vertical:l(r.vertical,r.unit)}:null}function H(n,e,t){const r=d(n,e,t,s.Direct);return r!=null?l(r.direct,r.unit):null}function V(n,e,t){const r=d(n,e,t,s.Horizontal);return r!=null?l(r.horizontal,r.unit):null}function sn(n,e,t){const r=d(n,e,t,s.Vertical);return r!=null?l(r.verticalSigned,r.unit):null}function d(n,e,t,r){const u=k(t),c=D(u);if(c==null)return null;const o=e[2]-n[2];if(r===s.Vertical)return{verticalSigned:o,unit:c};if(!R(n,t,Z,u)||!R(e,t,h,u))return null;if(r===s.Direct)return{direct:y(h,Z),unit:c};if(L(v,n[0],n[1],e[2]),!R(v,t,v,u))return null;const p=y(v,h);return r===s.Horizontal?{horizontal:p,unit:c}:{direct:y(h,Z),horizontal:p,vertical:Math.abs(o),unit:c}}(function(n){n[n.Direct=0]="Direct",n[n.Horizontal=1]="Horizontal",n[n.Vertical=2]="Vertical"})(s||(s={}));const a=f(),i=f(),Z=f(),h=f(),v=f();function g(n,e,t,r=2,u="abbr"){return T(n,j(e,t).value,t,r,u)}function M(n,e,t,r=2,u="abbr"){return X(n,j(e,t).value,t,r,u)}function ln(n,e,t=2,r="abbr"){return K(n,e.value,e.unit,t,r)}function on(n,e,t=2,r="abbr"){return nn(n,e.value,e.unit,t,r)}function fn(n,e,t=2,r="abbr"){return J(n,e.value,e.unit,t,r)}function pn(n,e,t=2,r="abbr"){return Y(n,e.value,e.unit,t,r)}function bn(n,e,t=2,r="abbr"){return tn(n,e.value,e.unit,t,r)}function $n(n,e,t=2,r="abbr"){return G(n,e.value,e.unit,t,r)}function hn(n,e,t=2,r="abbr"){return en(n,e.value,e.unit,t,r)}function vn(n,e,t=2,r="abbr"){return E(n,e.value,e.unit,t,r)}function zn(n,e,t=2,r="abbr"){return _(n,e.value,e.unit,t,r)}function dn(n,e,t=2,r="abbr"){return rn(n,e.value,e.unit,t,r)}function jn(n,e,t,r=P,u=!0){return W(n.value,n.unit,n.rotationType,e,t,r,u)}function kn(n,e,t,r,u="abbr"){switch(r=r??2,t){case"imperial":return $n(n,e,r,u);case"metric":return ln(n,e,r,u);default:return g(n,e,t,r,u)}}function Hn(n,e,t,r=2,u="abbr"){switch(t){case"imperial":return hn(n,e,r,u);case"metric":return on(n,e,r,u);default:return M(n,e,t,r,u)}}function Vn(n,e,t,r=2,u="abbr"){switch(t){case"imperial":return vn(n,e,r,u);case"metric":return fn(n,e,r,u);default:return g(n,e,t,r,u)}}function Mn(n,e,t,r=2,u="abbr"){switch(t){case"imperial":return zn(n,e,r,u);case"metric":return pn(n,e,r,u);default:return M(n,e,t,r,u)}}function Sn(n,e,t,r=2,u="abbr"){switch(t){case"imperial":return dn(n,e,r,u);case"metric":return bn(n,e,r,u);default:return g(n,e,t,r,u)}}export{Hn as C,Vn as F,Dn as R,Mn as S,jn as U,V as Z,kn as a,sn as b,vn as c,$n as d,xn as e,Rn as f,g,yn as h,ln as i,an as j,Sn as k,k as l,Zn as m,fn as w,H as x,wn as y,gn as z};
